<template>
  <div
    class="container"
    v-waterMarker="{
      text: 'ç‰ˆæƒæ‰€æœ‰',
      textColor: 'rgba(180, 180, 180, 0.4)',
    }"
  >
    <!-- é™æ€ ä¾‹å­ -->
    <zw-chart
      :myOption="chartLineData2"
      :myStyle="{ width: '100%', height: '280px' }"
    ></zw-chart>

    <!-- æ¥å£ä¾‹å­ -->
    <zw-chart
      :myOption="chartLineData"
      :myStyle="{ width: '100%', height: '280px' }"
      v-if="Flag"
    ></zw-chart>

    <!-- éª¨æ¶å± element-plus -->
    <el-skeleton
      v-else
      :rows="5"
      :animated="true"
      style="margin: 10px auto; width: 90%; height: 500px"
    />
  </div>
</template>

<script setup lang="ts">
// å°è£…å¥½çš„ axios
// import service from "@/utils/request";

// å¼•å…¥å°è£…çš„chartç»„ä»¶

// import myChart from "~/myCharts.vue";

// å¼•å…¥å›¾è¡¨æ•°æ®
import { chartLineData, chartLineData2 } from "./part-components/chart-line";
// console.log("ğŸ˜‚ğŸ‘¨ğŸ¾â€â¤ï¸â€ğŸ‘¨ğŸ¼==>ï¼š", chartLineData, chartLineData2);

//æ¥å£æ˜¯å¦è¯·æ±‚å®Œï¼ˆ ç­‰å¾…æ¥å£è¯·æ±‚å®Œæ¯•åœ¨ä¼ å€¼åˆ°å­ç»„ä»¶ï¼‰é˜²æ­¢ç™½å±
const Flag = ref<boolean>(false);

/* è·å–æ•°æ®å¹¶å°†æ¥å£çš„æ•°æ®æ”¾ç½® chartLineData*/
const getCurveData = () => {
  // æ¥å£ ä¾‹å­
  // service({
  //   url: "/api/curve",
  //   method: "get",
  // }).then((res) => {
  //   chartLineData.xAxis.data = res.data.xAxis;
  //   chartLineData.series[0].data = res.data.series;
  //   Flag.value = true;
  // });
  //
  // é™æ€ä¾‹å­æ¨¡æ‹Ÿæ¥å£èµ‹å€¼æ“ä½œ
  setTimeout(() => {
    chartLineData.xAxis.data = [
      "Mon",
      "Tue",
      "Wed",
      "Thu",
      "Fri",
      "Sat",
      "Sun",
    ];

    chartLineData.series[0].data = [820, 932, 901, 934, 1290, 1330, 1320];

    chartLineData.title.text = "æŠ˜çº¿å›¾æ¨¡æ‹Ÿæ¥å£æ•°æ®";
    Flag.value = true;
  }, 1000);
};

onMounted(() => {
  getCurveData();
});
</script>

<style lang="scss" scoped>
.container {
  overflow: hidden;
  padding: 10px;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
}
</style>
./part-components/chart-line
