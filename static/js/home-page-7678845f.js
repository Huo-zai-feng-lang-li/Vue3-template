import{aq as e,n as t,r,g as i,b1 as s,M as n,Q as l,v as a,F as o,R as c,y as d,x as p,q as u,P as h,l as m,V as y,aV as v,aW as g,G as f,aA as b,ar as w}from"./index-f9778aca.js";import{E as x}from"./el-button-b84d105f.js";import{E}from"./el-link-8aac8d20.js";import{E as k}from"./el-message-386d4791.js";import"./index-435ff265.js";import"./constants-9957b712.js";import"./index-928a3db6.js";import"./icon-8ee75a79.js";import"./typescript-a312af3e.js";import"./aria-bf06b440.js";const A=r({tooltip:{trigger:"axis"},title:{text:"我的线性图"},grid:{left:"3%",right:"2%",bottom:"9%",containLabel:!0},xAxis:{type:"category",data:[],axisLabel:{interval:0}},yAxis:{type:"value",minInterval:1,axisLabel:{formatter:"{value} 人"}},series:[{data:[],type:"line",smooth:!0}]}),C=r({tooltip:{trigger:"axis"},title:{text:"我的线性图"},xAxis:{type:"category",data:["周一","周二","周三","周四","周五","周六","周日"]},yAxis:{type:"value"},series:[{data:[120,200,150,80,70,110,130],type:"line",smooth:!0}]});var B=Object.defineProperty,T=Object.defineProperties,P=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,O=(e,t,r)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,L=(e,t)=>{for(var r in t||(t={}))I.call(t,r)&&O(e,r,t[r]);if(S)for(var r of S(t))j.call(t,r)&&O(e,r,t[r]);return e},$=(e,t)=>T(e,P(t)),_=(e,t,r)=>O(e,"symbol"!=typeof t?t+"":t,r);const q="[VuePrintNext]";class H{constructor(e){_(this,"standards",{strict:"strict",loose:"loose",html5:"html5"}),_(this,"iframeId",""),_(this,"previewBody",null),_(this,"close",null),_(this,"counter",0),_(this,"settings",{standard:"html5",zIndex:20002,previewTitle:"打印预览",previewPrintBtnLabel:"打印",preview:!1});const t=e.vue;this.settings=$(L(L({},this.settings),e),{previewBeforeOpenCallback(){var r;null==(r=e.previewBeforeOpenCallback)||r.call(e,t)},previewOpenCallback(){var r;null==(r=e.previewOpenCallback)||r.call(e,t)},openCallback(){var r;null==(r=e.openCallback)||r.call(e,t)},closeCallback(){var r;null==(r=e.closeCallback)||r.call(e,t)},beforeOpenCallback(){var r;null==(r=e.beforeOpenCallback)||r.call(e,t)}}),this.init()}init(){this.counter++,this.iframeId=`printArea_${this.counter}`;const{el:e,url:t}=this.settings;if(e||t){const r=e?"":t||"",i=this.getPrintWindow(r);return e&&this.write(i.doc),void(this.settings.preview?this.previewIframeLoad():this.print(i))}if(!this.settings.asyncUrl)throw new Error(`${q}: Either "el"、"url" or "asyncUrl" parameter must be provided in the settings.`);this.settings.asyncUrl((e=>{const t=this.getPrintWindow(e);this.settings.preview?this.previewIframeLoad():this.print(t)}),this.settings.vue)}addEvent(e,t,r){e&&(e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r)}previewIframeLoad(){var e,t;const r=document.getElementById("vue-pirnt-next-previewBox");if(!r)return;const i=r.querySelector("iframe");null==(t=(e=this.settings).previewBeforeOpenCallback)||t.call(e),this.addEvent(i,"load",(()=>{var e,t;this.previewBoxShow(),null==(t=(e=this.settings).previewOpenCallback)||t.call(e)})),this.addEvent(r.querySelector(".previewBodyUtilPrintBtn"),"click",(()=>{var e,t,r,s,n,l,a;null==(t=(e=this.settings).beforeOpenCallback)||t.call(e),null==(s=(r=this.settings).openCallback)||s.call(r),null==(n=null==i?void 0:i.contentWindow)||n.print(),null==(a=(l=this.settings).closeCallback)||a.call(l)}))}print(e){var t,r;const i=document.getElementById(this.iframeId)||e.f,s=null==i?void 0:i.contentWindow;if(!s)return;null==(r=(t=this.settings).beforeOpenCallback)||r.call(t),this.addEvent(i,"load",(()=>{const e=setTimeout((()=>{var t,r,n,l;s.focus(),null==(r=(t=this.settings).openCallback)||r.call(t),s.print(),i.remove(),null==(l=(n=this.settings).closeCallback)||l.call(n),clearTimeout(e)}))}))}getNoPrintMediaStyle(){const e=this.settings.noPrintSelector;return e&&(Array.isArray(e)||"string"==typeof e)?`${(Array.isArray(e)?e:[e]).filter((e=>e.trim())).join(",")} { display: none; }`:""}write(e){e.open(),e.write(`${this.docType()}<html lang='zh'>${this.getHead()}${this.getBody()}</html>`),e.close()}docType(){if(this.settings.standard===this.standards.html5)return"<!DOCTYPE html>";return`<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01${this.settings.standard===this.standards.loose?" Transitional":""}//EN" "http://www.w3.org/TR/html4/${this.settings.standard===this.standards.loose?"loose":"strict"}.dtd">`}getPrintMediaStyle(){return"body {-webkit-print-color-adjust: exact; -moz-print-color-adjust: exact; -ms-print-color-adjust: exact; print-color-adjust: exact;}"}getHead(){const e=(this.settings.extraHead||"").split(",").filter((e=>e.length>0)).join(""),t=Array.from(document.querySelectorAll("link")).filter((e=>e.href.includes(".css"))).map((e=>`<link type="text/css" rel="stylesheet" href='${e.href}'>`)).join(""),r=Array.from(document.styleSheets).reduce(((e,t)=>{const r=t.cssRules||t.rules;return r&&(e+=Array.from(r).reduce(((e,t)=>e+t.cssText),"")),e}),""),i=(this.settings.extraCss||"").split(",").filter((e=>e.trim().length>0)).map((e=>`<link type="text/css" rel="stylesheet" href='${e.trim()}'>`)).join(""),s=this.getPrintMediaStyle(),n=this.getNoPrintMediaStyle();return`<head>\n\t\t\t\t\t\t\t<title>${this.settings.popTitle}</title>\n\t\t\t\t\t\t\t${e}${t}\n\t\t\t\t\t\t\t<style type="text/css">${r}${n}${s}</style>\n\t\t\t\t\t\t\t${i}\n\t\t\t\t\t\t</head>`}getPrintAreaDom(){const e=this.settings.el;if(e instanceof HTMLElement)return[e];if(!("string"==typeof e))throw new TypeError(`${q}: The "el" property should be either a string (CSS selector) or an HTMLElement, but received type "${typeof e}".`);let t=Array.from(document.querySelectorAll(e));if(null==t||!t.length)throw new Error(`${q}: No elements found matching the selector: "${e}".`);return t}getBody(){const e=this.getPrintAreaDom(),t=document.createElement("div");return e.forEach((e=>{const r=e.cloneNode(!0);this.canvasToImgHandler(e,r),this.formDataHandler(e,r),t.appendChild(r)})),`<body>${t.innerHTML}</body>`}canvasToImgHandler(e,t){const r=e.querySelectorAll("canvas");t.querySelectorAll("canvas").forEach(((e,t)=>{const i=r[t],s=e.parentNode,n=i.toDataURL("image/png"),l=new Image;l.className="canvasImg",l.style.display="block",l.src=n,null==s||s.appendChild(l),e.remove()}))}formDataHandler(e,t){const r=t.querySelectorAll("input,select,textarea");let i=-1;r.forEach((t=>{var r;const s=t.value;switch(null!=(r=t.getAttribute("type"))?r:t.tagName.toLowerCase()){case"select":i++;const r=e.querySelectorAll("select")[i];if(r){const e=r.selectedIndex;t.options[e].setAttribute("selected","selected")}break;case"textarea":t.innerHTML=s,t.setAttribute("html",s);break;case"radio":case"checkbox":t.checked&&t.setAttribute("checked","checked");break;default:t.value=s,t.setAttribute("value",s)}}))}getPrintWindow(e){var t;const r=this.createIframe(e),i=r.contentDocument||(null==(t=r.contentWindow)?void 0:t.document)||r.document;if(!i)throw new Error(`${q}: Unable to find the document object within the created iframe. Please ensure the iframe is correctly created and loaded.`);return{f:r,win:r.contentWindow||r,doc:i}}previewBoxShow(){var e;const t=document.getElementById("vue-pirnt-next-previewBox");t&&(null==(e=document.querySelector("html"))||e.setAttribute("style","overflow: hidden"),t.style.display="block")}previewBoxHide(){var e,t;const r=document.getElementById("vue-pirnt-next-previewBox");r&&(null==(e=document.querySelector("html"))||e.setAttribute("style","overflow: visible;"),null==(t=r.querySelector("iframe"))||t.remove(),r.style.display="none")}previewBox(){var e;let t=document.getElementById("vue-pirnt-next-previewBox");if(t)return null==(e=t.querySelector("iframe"))||e.remove(),{close:t.querySelector(".previewClose"),previewBody:t.querySelector(".previewBody")};t=document.createElement("div"),t.setAttribute("id","vue-pirnt-next-previewBox"),t.setAttribute("style","position: fixed; top: 0px; left: 0px; width: 100%; height: 100%; background: white; display: none; z-index: "+this.settings.zIndex);const r=document.createElement("div");return r.setAttribute("class","previewHeader"),r.setAttribute("style","padding: 5px 20px;"),r.innerHTML=this.settings.previewTitle||"",this.close=this.createCloseButton(),r.appendChild(this.close),t.appendChild(r),this.previewBody=this.createPreviewBody(),t.appendChild(this.previewBody),document.body.appendChild(t),{close:this.close,previewBody:this.previewBody}}createIframe(e){const t=document.createElement("iframe");if(t.id=this.iframeId,t.src=e||(new Date).getTime().toString(),t.style.display="none",this.settings.preview){t.setAttribute("style","border: 0px; flex: 1;");const{close:e,previewBody:r}=this.previewBox();r&&r.appendChild(t),this.addEvent(e,"click",this.previewBoxHide.bind(this))}else document.body.appendChild(t);return t}createCloseButton(){const e=document.createElement("div");e.setAttribute("class","previewClose"),e.setAttribute("style","position: absolute; top: 5px; right: 20px; width: 25px; height: 20px; cursor: pointer;");const t=document.createElement("div"),r=document.createElement("div"),i="position: absolute; width: 3px; height: 100%; background: #040404; top: 0px; left: 50%;";return t.setAttribute("class","closeBefore"),t.setAttribute("style",`${i} transform: rotate(45deg);`),r.setAttribute("class","closeAfter"),r.setAttribute("style",`${i} transform: rotate(-45deg);`),e.appendChild(t),e.appendChild(r),e}createPreviewBody(){const e=document.createElement("div");e.className="previewBody",e.style.cssText="display: flex; flex-direction: column; height: 100%;";const t=document.createElement("div");t.className="previewBodyUtil",t.style.cssText="height: 32px; background: #474747; position: relative;";const r=document.createElement("div");return r.className="previewBodyUtilPrintBtn",r.style.cssText="position: absolute; padding: 2px 10px; margin-top: 3px; left: 24px; font-size: 14px; color: white; cursor: pointer; background: rgba(0,0,0,.12); border: 1px solid rgba(0,0,0,.35); box-shadow: inset 0 1px 0 hsla(0,0%,100%,.05), inset 0 0 1px hsla(0,0%,100%,.15);",r.innerHTML=this.settings.previewPrintBtnLabel||"",t.appendChild(r),e.appendChild(t),e}}const D={directiveName:"print",mounted(e,t){let r,i={};((e,t,r)=>{e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r})(e,"click",(()=>{t.value?("string"==typeof t.value?r=t.value:"object"==typeof t.value&&(r=t.value.el,i=t.value),new H($(L({},i),{el:r,vue:t.instance}))):window.print()}))},bind(e,t,r){t.instance=r.context,D.mounted(e,t)}},M={class:"container w100 h100",id:"home-page"},z=(e=>(v("data-v-c2ccc8cb"),e=e(),g(),e))((()=>f("input",{type:"text"},null,-1))),N=w(i({__name:"home-page",setup(r){const i=m("encryptionPlugin"),v=()=>{setTimeout((()=>{A.value.xAxis.data=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],A.value.series[0].data=[820,932,901,934,1290,1330,1320],A.value.title.text="折线图模拟接口数据",setTimeout((()=>{!async function(r=1,i={x:.5,y:.7}){await e((()=>import("./confetti.module-ab65151a.js")),[],import.meta.url).then((s=>{const n=document.querySelector("#confetti");if(!n)return;n.style.zIndex="9999";const l=s.create(n,{resize:!0,useWorker:!0,disableForReducedMotion:!0});e((()=>import("./confettiIndex-e1e9866a.js")),[],import.meta.url).then((e=>{e.getUserDescribe(r,l,i)})),t((()=>{n.style.zIndex="-1",l.reset()}))}))}(4,{x:.9,y:.6})}),1e3)}),1e3)},g=s.debounceRest((e=>{k.success("请打开控制台查看");const t=i.encryptData("1334132303@qq.com");i.decryptData(t)}),250);return n((()=>v())),(e,t)=>{const r=E,i=x,s=y("zk-confetti-canvas"),n=y("zk-chart"),m=b("waterMarker");return l((a(),o("div",M,[c(r,{size:"mini",type:"primary",href:"https://huo-zai-feng-lang-li.github.io/Website-zhangkun/",target:"_blank",class:"mr20"},{default:d((()=>[h("官网")])),_:1}),l((a(),p(i,null,{default:d((()=>[h("打印插件")])),_:1})),[[u(D)]]),c(r,{size:"mini",type:"primary",href:"https://huo-zai-feng-lang-li.github.io/vue3-tools-docs/vue-print-last.html",target:"_blank",class:"mr20"},{default:d((()=>[h("打印插件地址")])),_:1}),h(" 测试keepAline:"),z,c(i,{onClick:t[0]||(t[0]=e=>u(g)("我是参数")),type:"success",class:"ml10"},{default:d((()=>[h("点我测试tools工具函数")])),_:1}),c(s),c(n,{ref:"refChart",myOption:u(C),myStyle:{width:"100%",height:"280px"}},null,8,["myOption"]),c(n,{ref:"refChart",myOption:u(A),myStyle:{width:"100%",height:"280px"}},null,8,["myOption"])])),[[m,{text:"版权所有",textColor:"rgba(180, 180, 180, 0.4)"}]])}}}),[["__scopeId","data-v-c2ccc8cb"]]);export{N as default};