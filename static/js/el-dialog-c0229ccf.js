import{K as e,M as s,av as o,an as a,at as t,g as l,j as n,l as r,m as i,v as d,F as c,G as u,H as f,z as m,q as v,I as p,R as g,y as b,x as h,C as y,E as C,D as E,A as R,_ as k,a9 as $,k as A,r as L,t as M,Q as _,J as x,aM as F,a4 as w,T as I,bl as T,a5 as j}from"./index-f9778aca.js";import{d as X,a as Y,b as q,c as z,u as B,E as D,e as S}from"./el-overlay-ae8a08e7.js";import{C as P}from"./icon-8ee75a79.js";import{F as H,E as K}from"./focus-trap-08c2f2ec.js";import{u as O}from"./index-435ff265.js";const U=(e,l,n)=>{let r={offsetX:0,offsetY:0};const i=s=>{const o=s.clientX,a=s.clientY,{offsetX:l,offsetY:n}=r,i=e.value.getBoundingClientRect(),d=i.left,c=i.top,u=i.width,f=i.height,m=document.documentElement.clientWidth,v=document.documentElement.clientHeight,p=-d+l,g=-c+n,b=m-d-u+l,h=v-c-f+n,y=s=>{const i=Math.min(Math.max(l+s.clientX-o,p),b),d=Math.min(Math.max(n+s.clientY-a,g),h);r={offsetX:i,offsetY:d},e.value&&(e.value.style.transform=`translate(${t(i)}, ${t(d)})`)},C=()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",C)};document.addEventListener("mousemove",y),document.addEventListener("mouseup",C)},d=()=>{l.value&&e.value&&l.value.removeEventListener("mousedown",i)};s((()=>{o((()=>{n.value?l.value&&e.value&&l.value.addEventListener("mousedown",i):d()}))})),a((()=>{d()}))},G=Symbol("dialogInjectionKey"),J=["aria-level"],N=["aria-label"],Q=["id"],W=l({name:"ElDialogContent"});var V=k(l({...W,props:X,emits:Y,setup(s){const o=s,{t:a}=n(),{Close:t}=P,{dialogRef:l,headerRef:k,bodyId:$,ns:A,style:L}=r(G),{focusTrapRef:M}=r(H),_=i((()=>[A.b(),A.is("fullscreen",o.fullscreen),A.is("draggable",o.draggable),A.is("align-center",o.alignCenter),{[A.m("center")]:o.center},o.customClass])),x=((...s)=>o=>{s.forEach((s=>{e(s)?s(o):s.value=o}))})(M,l),F=i((()=>o.draggable));return U(l,k,F),(e,s)=>(d(),c("div",{ref:v(x),class:m(v(_)),style:R(v(L)),tabindex:"-1"},[u("header",{ref_key:"headerRef",ref:k,class:m(v(A).e("header"))},[f(e.$slots,"header",{},(()=>[u("span",{role:"heading","aria-level":e.ariaLevel,class:m(v(A).e("title"))},p(e.title),11,J)])),e.showClose?(d(),c("button",{key:0,"aria-label":v(a)("el.dialog.close"),class:m(v(A).e("headerbtn")),type:"button",onClick:s[0]||(s[0]=s=>e.$emit("close"))},[g(v(C),{class:m(v(A).e("close"))},{default:b((()=>[(d(),h(y(e.closeIcon||v(t))))])),_:1},8,["class"])],10,N)):E("v-if",!0)],2),u("div",{id:v($),class:m(v(A).e("body"))},[f(e.$slots,"default")],10,Q),e.$slots.footer?(d(),c("footer",{key:0,class:m(v(A).e("footer"))},[f(e.$slots,"footer")],2)):E("v-if",!0)],6))}}),[["__file","dialog-content.vue"]]);const Z=["aria-label","aria-labelledby","aria-describedby"],ee=l({name:"ElDialog",inheritAttrs:!1});const se=j(k(l({...ee,props:q,emits:z,setup(e,{expose:s}){const o=e,a=$();O({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},i((()=>!!a.title))),O({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},i((()=>!!o.customClass)));const t=A("dialog"),l=L(),n=L(),r=L(),{visible:c,titleId:p,bodyId:y,style:C,overlayDialogStyle:k,rendered:j,zIndex:X,afterEnter:Y,afterLeave:q,beforeLeave:z,handleClose:P,onModalClick:H,onOpenAutoFocus:U,onCloseAutoFocus:J,onCloseRequested:N,onFocusoutPrevented:Q}=B(o,l);M(G,{dialogRef:l,headerRef:n,bodyId:y,ns:t,rendered:j,style:C});const W=S(H),ee=i((()=>o.draggable&&!o.fullscreen));return s({visible:c,dialogContentRef:r}),(e,s)=>(d(),h(T,{to:e.appendTo,disabled:"body"===e.appendTo&&!e.appendToBody},[g(I,{name:"dialog-fade",onAfterEnter:v(Y),onAfterLeave:v(q),onBeforeLeave:v(z),persisted:""},{default:b((()=>[_(g(v(D),{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":v(X)},{default:b((()=>[u("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:v(p),"aria-describedby":v(y),class:m(`${v(t).namespace.value}-overlay-dialog`),style:R(v(k)),onClick:s[0]||(s[0]=(...e)=>v(W).onClick&&v(W).onClick(...e)),onMousedown:s[1]||(s[1]=(...e)=>v(W).onMousedown&&v(W).onMousedown(...e)),onMouseup:s[2]||(s[2]=(...e)=>v(W).onMouseup&&v(W).onMouseup(...e))},[g(v(K),{loop:"",trapped:v(c),"focus-start-el":"container",onFocusAfterTrapped:v(U),onFocusAfterReleased:v(J),onFocusoutPrevented:v(Q),onReleaseRequested:v(N)},{default:b((()=>[v(j)?(d(),h(V,x({key:0,ref_key:"dialogContentRef",ref:r},e.$attrs,{"custom-class":e.customClass,center:e.center,"align-center":e.alignCenter,"close-icon":e.closeIcon,draggable:v(ee),fullscreen:e.fullscreen,"show-close":e.showClose,title:e.title,"aria-level":e.headerAriaLevel,onClose:v(P)}),F({header:b((()=>[e.$slots.title?f(e.$slots,"title",{key:1}):f(e.$slots,"header",{key:0,close:v(P),titleId:v(p),titleClass:v(t).e("title")})])),default:b((()=>[f(e.$slots,"default")])),_:2},[e.$slots.footer?{name:"footer",fn:b((()=>[f(e.$slots,"footer")]))}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):E("v-if",!0)])),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Z)])),_:3},8,["mask","overlay-class","z-index"]),[[w,v(c)]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}}),[["__file","dialog.vue"]]));export{se as E};